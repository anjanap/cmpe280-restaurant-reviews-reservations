<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Colorlib">
    <meta name="description" content="#">
    <meta name="keywords" content="#">
    <!-- Favicons -->
    <link rel="shortcut icon" href="#">
    <!-- Page Title -->
    <title>Listing &amp; Directory Website Template</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700,900" rel="stylesheet">
    <!-- Simple line Icon -->
    <link rel="stylesheet" href="css/simple-line-icons.css">
    <!-- Themify Icon -->
    <link rel="stylesheet" href="css/themify-icons.css">
    <!-- Hover Effects -->
    <link rel="stylesheet" href="css/set1.css">
    <!-- Main CSS -->
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="userinteractivity.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="jquery-ui-1.12.1.custom/external/jquery/jquery.js"></script>
    <script src="jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>

    <script>
        var resultarr='';
        var resultarr1='';
          $(document).ready(function() {
              $("#form")
                  .submit(function(event) {
                    //   var formData = {
                    //   'restaurant_name': $('input[name=restaurant_name]').val()
                    //    };
                       $.ajax({
                         url: 'http://localhost:3000/getrestaurants',
                         //data: formData,
                           type: 'GET',
                           success: function (data) {
                             temp=data;
                             console.log(data[0].restaurant_name);
                             //resultarr+=data[0].restaurant_name+'</h3>';
                             //resultarr+='<h5>Address: '+data[0].Address+'</h5>';
                             //resultarr+='<h5>Cusine: '+data[0].Cusine+'</h5>';
                             //resultarr+='<h5>Tables remaining: '+data[0].Tables+'</h5>';

                           
                           for(var i = 0; i<data.length/2; i++){
                           resultarr+='<div class="featured-place-wrap">';
                            resultarr+='<a href="detail.html">';
                                resultarr+='<img src="images/featured1.jpg" class="img-fluid" alt="#">';
                                resultarr+='<span class="featured-rating-green">' + data[i].rating + '</span>';
                                resultarr+='<div class="featured-title-box">';
                                    resultarr+='<p><span>$$$</span>$$</p>';
                                    resultarr+='<h6>' + data[i].restaurant_name + '</h6>';
                                    
                                    resultarr+='<ul>';
                                            resultarr+='<li><span class="icon-location-pin"></span>';
                                            resultarr+='<p>' + data[i].Address+ '</p>';
                                            resultarr+='</li>';
                                    resultarr+='</ul>';
                                resultarr+='</div>';
                            resultarr+='</a>';
                           resultarr+='</div>';
                           }

                           for(var i = data.length/2; i<data.length; i++){
                           resultarr1+='<div class="featured-place-wrap">';
                            resultarr1+='<a href="detail.html">';
                                resultarr1+='<img src="images/featured1.jpg" class="img-fluid" alt="#">';
                                resultarr1+='<span class="featured-rating-green">' + data[i].rating + '</span>';
                                resultarr1+='<div class="featured-title-box">';
                                    resultarr1+='<p><span>$$$</span>$$</p>';
                                    resultarr1+='<h6>' + data[i].restaurant_name + '</h6>';
                                    
                                    resultarr1+='<ul>';
                                            resultarr1+='<li><span class="icon-location-pin"></span>';
                                            resultarr1+='<p>' + data[i].Address+ '</p>';
                                            resultarr1+='</li>';
                                    resultarr1+='</ul>';
                                resultarr1+='</div>';
                            resultarr1+='</a>';
                           resultarr1+='</div>';
                           }
    
                             document.getElementById("display").innerHTML=resultarr;
                             document.getElementById("display1").innerHTML=resultarr1;
                            
                           },
                           error: function (xhr, status, error) {
                               console.log('Error: ' + error.message);
                             },
                           });
                      event.preventDefault();
                  });
          });
          </script>
    

</head>

<body>
        
    <!--============================= HEADER =============================-->
    <div class="dark-bg sticky-top">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <nav class="navbar navbar-expand-lg navbar-light">
                        <a class="navbar-brand" href="index.html">Listing</a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
              <span class="icon-menu"></span>
            </button>
                        <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                            <ul class="navbar-nav">
                                <li class="nav-item dropdown">
                                    <a class="nav-link" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                   Explore
                   <span class="icon-arrow-down"></span>
                 </a>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                        <a class="dropdown-item" href="#">Action</a>
                                        <a class="dropdown-item" href="#">Another action</a>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                    </div>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link" href="#" id="navbarDropdownMenuLink1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Listing
                  <span class="icon-arrow-down"></span>
                </a>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                        <a class="dropdown-item" href="#">Action</a>
                                        <a class="dropdown-item" href="#">Another action</a>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                    </div>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link" href="#" id="navbarDropdownMenuLink2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Pages
                  <span class="icon-arrow-down"></span>
                </a>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                        <a class="dropdown-item" href="#">Action</a>
                                        <a class="dropdown-item" href="#">Another action</a>
                                        <a class="dropdown-item" href="#">Something else here</a>
                                    </div>
                                </li>
                                <li class="nav-item active">
                                    <a class="nav-link" href="#">About</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">Blog</a>
                                </li>
                                <li><a href="#" class="btn btn-outline-light top-btn"><span class="ti-plus"></span> Add Listing</a></li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!--//END HEADER -->
    <!--============================= DETAIL =============================--> 
    <div class="wrap">
        <form id="form">
        <div class="search" >
            <input type="text" class="searchTerm" placeholder="Find restaurants" name = "restaurant_name" required>
            <button type="submit" class="searchButton">
                Submit
                <i class="fa fa-search"></i>
            </button>
        </div>
        </form>
    </div>
    
    <section>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-7 responsive-wrap">
                    <div class="row light-bg detail-options-wrap">    
                        <div id="display" class="col-sm-6 col-lg-12 col-xl-6 featured-responsive"></div>
                        <div id="display1" class="col-sm-6 col-lg-12 col-xl-6 featured-responsive"></div>
                    </div>
                <div class="col-md-5 responsive-wrap map-wrap">
                    <div class="map-fix">
                        <!-- data-toggle="affix" -->
                        <!-- Google map will appear here! Edit the Latitude, Longitude and Zoom Level below using data-attr-*  -->
                        <div id="map" data-lat="40.674" data-lon="-73.945" data-zoom="14"></div>
                    </div>
                </div>
                </div>
            </div>
        </div>        
    </section>
    <!--//END DETAIL -->
    <!--============================= FOOTER =============================-->
    <footer class="main-block dark-bg">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="copyright">
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        <p>Copyright &copy; 2018 Listing. All rights reserved | This template is made with <i class="ti-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a></p>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        <ul>
                            <li><a href="#"><span class="ti-facebook"></span></a></li>
                            <li><a href="#"><span class="ti-twitter-alt"></span></a></li>
                            <li><a href="#"><span class="ti-instagram"></span></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--//END FOOTER -->




    <!-- jQuery, Bootstrap JS. -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>


    <!-- Map JS (Please change the API key below. Read documentation for more info) -->
</body>

</html>
